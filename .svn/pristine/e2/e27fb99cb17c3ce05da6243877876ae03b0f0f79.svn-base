/**
 * wineLabels-alalcohollable
 */
$(function () {
    $("#winelabelsAuditTable").bootstrapTable({
        //toolbar: "#toolbar",
        idField: "id",
        pagination: true,
        queryParams:queryParams,
        sidePagination: "client",
        pageNumber: 1,
        pageSize: 5,
        pageList: [5, 10, 20],
        url: "/ent/entapplication/winelabelsAuditList",
        columns: [
           /* [{
                "title": "<img src='/static/scripts/gecko-modules/img/u152.png' class='img-rounded' >企业列表",
                "halign":"left",
                "align":"center",
                "colspan": 15
            }],*/
            [{
                field: "id",
                visible: false
            }, {
                field: "applicant",
                title: "申领企业",
                type: "text",
                search: "true",


            }, {
                field: "temp3",
                title: "统一社会信用代码",
                type: "text",
                search: "true"

            }, {
                field: "temp1",
                title: "商品种类",
                type: "text",
                search: "true"
            }, {
                field: "productnumber",
                title: "申领数量",
                type: "text",
                search: "true",
            },{
                field: "applicandate",
                title: "申领时间",
                type: "text",
                search: "true"
            },{
                field: "temp2",
                title: "当前剩余数量",
                type: "text",
                search: "true",
            }, {
                field: 'operate',
                title: '操作',
                align: 'center',
                width : 100,
                formatter: operateFormatter
            }]]
    });
});
function operateFormatter(value, row, index) {
	var obj = JSON.stringify(row);
    return ["<button class='btn-link' onclick='javascript:audit("+obj+");' style='margin-right:15px;'>审核</button>&nbsp;&nbsp;&nbsp;&nbsp;"].join('');

};
function queryParams(params) {
    var param = {
        creditcode : $("#creditcode").val(),
        entname : $("#entname").val()
    }
    return param;
}
function audit(obj){
	$("input[name='entnameAudit']").val(obj.applicant);
	$("input[name='numberAudit']").val(obj.productnumber);
	$("input[name='creditcodeAudit']").val(obj.temp3);
	$("input[name='applicantDateAudit']").val(obj.applicandate);
	$("input[name='producttypeAudit']").val(obj.temp1);
	$("input[name='surplusNumberAudit']").val(obj.temp2);
	$("input[name='applicantId']").val(obj.id);
	$("#winelabelAudit").modal("show");
}