/**
 * ent-ententbasic
 */
$(function () {
    $("#entbasicTable").bootstrapTable({
        //toolbar: "#toolbar",
        idField: "id",
        pagination: true,
        queryParams:queryParams,
        sidePagination: "client",
        pageNumber: 1,
        pageSize: 5,
        pageList: [5, 10, 20],
        url: "/ent/ententbasic/list",
        columns: [
            [{
                "title": "<img src='/static/scripts/gecko-modules/img/u152.png' class='img-rounded' >企业列表",
                "halign":"left",
                "align":"center",
                "colspan": 15
            }],
            [{
                field: "id",
                visible: false
            }, {
                field: "creditcode",
                title: "统一社会信用代码",
                type: "text",
                search: "true"

            }, {
                field: "entname",
                title: "企业名称",
                type: "text",
                search: "true",


            }, {
                field: "temp1",
                title: "所属行政区划",
                type: "text",
                search: "true",


            }, {
                field: "status",
                title: "企业状态",
                type: "text",
                search: "true",


            }, {
                field: 'operate',
                title: '操作',
                align: 'center',
                width : 100,
                //events: operateEvents,
                formatter: operateFormatter
            }]]

    });

});

function operateFormatter(value, row, index) {
    return [
        '<button id="oleOfedit" onclick="javascript:detail('+row.id+');" type="button" class="oleOfedit btn btn-primary  btn-sm" style="margin-right:15px;">查看</button>&nbsp;&nbsp;'+
        '<button id="oleOfedit" onclick="javascript:modify('+row.id+');" type="button" class="oleOfedit btn btn-primary  btn-sm" style="margin-right:15px;">修改企业状态</button>&nbsp;&nbsp;'

    ];


};

function query(){
    $('#entbasicTable').bootstrapTable('refresh');
}

function queryParams(params) {
    var param = {
        creditcode : $("#creditcode").val(),
        entname : $("#entname").val()

    }
    return param;
}